<nz-divider nzText="管理员信息" nzOrientation="left"></nz-divider>
<ng-template #mgBeforeButton>
    <span>管理员卡号：</span>
</ng-template>
<nz-input-group nzSearch [nzAddOnBefore]="mgBeforeButton" [nzAddOnAfter]="mgSuffixButton">
    <input type="text" nz-input [(ngModel)]="mgBadgeId" placeholder="请输入员工卡号" (keyup.enter)="getManagerStockInfo()" />
</nz-input-group>
<ng-template #mgSuffixButton>
    <button nz-button nzType="primary" nzSearch (click)="getManagerStockInfo()">确认</button>
</ng-template>

<nz-table style="margin-top: 10px;font-size: 10px;" #stockTable nzBordered nzSize="small"
    [nzData]="mgStockInfo.stockList" [nzShowPagination]="false">
    <thead>
        <tr>
            <th>季节</th>
            <th>款式</th>
            <th>持有数量</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let data of stockTable.data">
            <td>{{ data.season }}</td>
            <td>{{ data.style }}</td>
            <td>{{ data.stock }}</td>
        </tr>
    </tbody>
</nz-table>

<nz-divider nzText="领取人信息" nzOrientation="left"></nz-divider>
<ng-template #beforeButton>
    <span>员工卡号：</span>
</ng-template>
<nz-input-group nzSearch [nzAddOnBefore]="beforeButton" [nzAddOnAfter]="suffixButton">
    <input type="text" #inputBadgeId nz-input [(ngModel)]="badgeId" placeholder="请输入员工卡号" (keyup.enter)="enterBadgeId()"
        onfocus="this.select();" />
</nz-input-group>
<ng-template #suffixButton>
    <button nz-button nzType="primary" nzSearch (click)="enterBadgeId()">确认</button>
</ng-template>
<div nz-row class="data-container" style="margin-top:10px;padding: 5px 30px;">
    <div nz-col nzSpan="12"> <span> 姓名：{{userInfo.chineseName}}</span> </div>
    <div nz-col nzSpan="12"> <span> 工号：{{userInfo.employeeID}}</span> </div>
    <div nz-col nzSpan="12"> <span> 部门：{{userInfo.department}}</span> </div>
    <div nz-col nzSpan="12"> <span> 成本中心：{{userInfo.costcenter}}</span></div>
</div>
<nz-divider nzText="领取信息" nzOrientation="left"></nz-divider>
<div nz-row class="data-container" style="margin-top:10px;padding: 5px 30px;padding-top: 20px;">
    <form nz-form nzLayout="inline">
        <nz-form-item>
            <nz-form-label>工服季节</nz-form-label>
            <nz-form-control>
                <nz-select name="select-season" [(ngModel)]="selectSeason" style="min-width: 120px;"
                    (ngModelChange)="loadUniformInfo()">
                    <nz-option *ngFor="let item of uniformSeasons" [nzValue]="item.season" [nzLabel]="item.season">
                    </nz-option>
                </nz-select>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label>领取数量</nz-form-label>
            <nz-form-control>
                <nz-input-number name="input-number" [nzPrecision]="0" [nzMin]="1" [nzStep]="1"
                    [(ngModel)]="applyNumber">
                </nz-input-number>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-control>
                <button type="button" *ngIf="!(btnEnable && selectTypes.length>0 && this.applyNumber)" disabled
                    nz-button class="fr mt-10" nzType="primary">确认发放</button>
                <button type="button" *ngIf="btnEnable && selectTypes.length>0 && this.applyNumber" nz-button
                    class="fr mt-10" (click)="giveout()" nzType="primary">确认发放</button>
            </nz-form-control>
        </nz-form-item>
    </form>
    <form nz-form>
        <nz-form-item>
            <nz-form-label>工服信息</nz-form-label>
            <nz-form-control>
                <nz-table #smallTable nzBordered [nzData]="selectTypes" [nzShowPagination]="false">
                    <thead>
                        <tr>
                            <th>季节</th>
                            <th>款式</th>
                            <th>价格(元/套)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of smallTable.data">
                            <td>{{ data.season }}</td>
                            <td>{{ data.style }}</td>
                            <td>{{ data.price }}</td>
                        </tr>
                    </tbody>
                </nz-table>
            </nz-form-control>
        </nz-form-item>
    </form>
</div>